<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DataCard组件测试</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../lib/hxvue.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../lib/hxvue.umd.js"></script>
    <script src="../node_modules/mockjs/dist/mock.js"></script>

</head>
<body>
<noscript>
    <strong>We're sorry but
        <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
        Please enable it to continue.</strong>
</noscript>
    <div id="app">
        <hxvue-data-card :option="option" @card-click="cardClick"></hxvue-data-card>
    </div>
</body>

<script>
    new Vue({
        el: "#app",
        data: function () {
            return {
                option: {
                    cardSpan: 5,
                    data: []
                }
            }
        },
        methods: {
            cardClick: function(item, index) {
                this.$message.success("图片点击后内部插件放大查看");
                console.log(index, JSON.stringify(item));
            }
        },
        created() {
            loadData(this.option.data);
        }
    })
    function loadData(demoData,demoDataNum=15) {
        const base = parseInt((Math.random() * 60), 10) + 10;
        for (let i = 0; i < demoDataNum; i++) {
            demoData.push({
                href: "https://avuejs.com",
                target: '_blank',
                src: `https://picsum.photos/id/${base + i}/300/440`,
                name: Mock.mock('@cname()'),
                text: Mock.mock('@csentence()')
            })
        }
    }
</script>
</html>
